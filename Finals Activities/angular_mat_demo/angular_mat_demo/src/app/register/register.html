<div class="form-container">
  <form [formGroup]="formdata" (ngSubmit)="onClickSubmit(formdata.value)">

    <mat-form-field appearance="fill">
      <mat-label>Username</mat-label>
      <input matInput placeholder="Enter Text" formControlName="userName">
      <button *ngIf="formdata.get('userName')?.value"
              type="button"
              matSuffix mat-icon-button aria-label="Clear"
              (click)="formdata.get('userName')?.reset()">
        <mat-icon>close</mat-icon>
      </button>
      <mat-hint>This will be your display name</mat-hint>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input matInput type="email" placeholder="Enter Email" formControlName="email">
      <mat-error *ngIf="formdata.get('email')?.hasError('required')">
        Email is <strong>required</strong>.
      </mat-error>
      <mat-error *ngIf="formdata.get('email')?.hasError('email')">
        Please enter a <strong>valid</strong> email address.
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Password</mat-label>
      <input matInput type="password" placeholder="Enter password" formControlName="password">
      @if (formdata.controls['password'].invalid && formdata.controls['password'].touched) {
        <mat-error>
          Password is required and must be at least 8 characters long.
        </mat-error>
      }
    </mat-form-field>

    <div class="radio-group">
      <label class="radio-label">Gender</label>
      <mat-radio-group formControlName="gender" class="gender-radio-group">
        <mat-radio-button value="male">Male</mat-radio-button>
        <mat-radio-button value="female">Female</mat-radio-button>
        <mat-radio-button value="other">Other</mat-radio-button>
      </mat-radio-group>
      @if (formdata.controls['gender'].invalid && formdata.controls['gender'].touched) {
        <mat-error class="small-error">Please select a gender.</mat-error>
      }
    </div>

    <mat-form-field appearance="fill">
      <mat-label>Address</mat-label>
      <input matInput placeholder="Enter Address" formControlName="address">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Birth Date</mat-label>
      <input matInput [matDatepicker]="picker" placeholder="Select a date" formControlName="birthDate">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      @if (formdata.get('birthDate')?.hasError('required') && formdata.get('birthDate')?.touched) {
        <mat-error>Birth date is required.</mat-error>
      }
    </mat-form-field>

    <div class="slider-group">
      <label class="slider-label">
        Angular Skill Level: <strong>{{ formdata.get('angularSkillLevel')?.value }}</strong>
      </label>
      <mat-slider [min]="minSkillLevel" [max]="maxSkillLevel" step="1" discrete showTickMarks>
        <input matSliderThumb formControlName="angularSkillLevel">
      </mat-slider>
    </div>

    <mat-form-field appearance="fill">
  <mat-label>Country</mat-label>
  <mat-select formControlName="country">
    <mat-option value="usa">USA</mat-option>
    <mat-option value="uk">United Kingdom</mat-option>
    <mat-option value="india">India</mat-option>
    <mat-option value="germany">Germany</mat-option>
  </mat-select>

  @if (formdata.get('country')?.invalid && formdata.get('country')?.touched) {
    <mat-error>Country is required.</mat-error>
  }
</mat-form-field>

<div class="toggle-group">
  <mat-slide-toggle formControlName="emailNotifications">
    Receive Email Notifications
  </mat-slide-toggle>
</div>

<div class="checkbox-group">
  <mat-checkbox formControlName="acceptTerms">
    I accept the Terms and Conditions
  </mat-checkbox>

  @if (formdata.get('acceptTerms')?.invalid && formdata.get('acceptTerms')?.touched) {
    <mat-error class="small-error">
      You must accept the terms.
    </mat-error>
  }
</div>



    <button mat-raised-button color="primary" type="submit" [disabled]="!formdata.valid">
      Click Here
    </button>

    @if (submitted) {
      <div class="result-display">
        <p><strong>You have entered:</strong></p>
        Username: {{ formdata.value.userName }} <br>
        Email: {{ formdata.value.email }} <br>
        Gender: {{ formdata.value.gender }} <br>
        Address: {{ formdata.value.address }} <br>
        Birth Date: {{ formdata.value.birthDate | date: 'shortDate' }} <br>
        Skill Level: {{ formdata.value.angularSkillLevel }}
      </div>
    }
  </form>
</div>
